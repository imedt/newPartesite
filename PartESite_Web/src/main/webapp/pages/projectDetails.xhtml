<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<ui:composition template="../templates/TemplateHome.xhtml">

	<ui:define name="header-title">Consultation Projet</ui:define>

	<ui:define name="content">

		<f:view>
			<h:form>

				<f:event listener="#{mbConsultProject.init()}" type="preRenderView"></f:event>
				<div class="bloc">
					<div class="col-lg-12">

						<div class="col-lg-4 col-xs-12 col-sm-12 col-md-12">
							<div class="textBox">
								<h3 class="col-lg-12">#{mbConsultProject.p.projectName}</h3>
								<h:outputText class="col-lg-12"
									value="#{mbConsultProject.contentProjectAuthor.content}"
									escape="false" />
							</div>

							<div class="textBox">
								<h3 class="col-lg-12">Concept</h3>
								<h:outputText class="col-lg-12"
									value="#{mbConsultProject.contentProjectConcept.content}"
									escape="false" />
							</div>

						</div>

						<div class="col-lg-4 col-xs-12 col-sm-12 col-md-12">
							<div class="frameBoxImage">
								<h:panelGroup rendered="#{(mbConsultProject.contentProjectImage.content!='')}">
									<img src="#{mbConsultProject.contentProjectImage.content}" />
								</h:panelGroup>

								<h:panelGroup rendered="#{mbConsultProject.contentProjectImage.content==''}">
									<img src="../images/#{mbConsultProject.p.projectCategory.category}.jpg" />
								</h:panelGroup>
							</div>

							<div class="frameBoxVideo">
								<iframe src="#{mbConsultProject.contentProjectVideo.content}"
									frameborder="0"></iframe>
							</div>
						</div>

						<div class=" col-lg-4 col-xs-12 col-sm-12 col-md-12">
							<h:panelGroup class="col-lg-12 col-xs-12 col-sm-12 col-md-12"
								rendered="#{mbConsultProject.wrappedPack.size()!=0}">
								<h:dataTable class="col-lg-12 col-md-12 col-sm-12 col-xs-12"
									value="#{mbConsultProject.wrappedPack}" var="wrappedPack">

									<h:column class="col-lg-12 col-xs-12 col-sm-12 col-md-12">
										<h:panelGroup class="pack"
											rendered="#{(wrappedPack.pack.stock-wrappedPack.pack.nbSale)!=0}">
											<h3>#{project.projectName}</h3>

											<h3>#{wrappedPack.pack.packName}</h3>

											<h:outputText class="col-lg-12"
												value="#{wrappedPack.pack.description}" />

											<h:outputText class="larger col-lg-12"
												value="Prix du package :
											#{mbConversion.getConvertedAmount(wrappedPack.pack.amount)}" />
											<h:outputText class="larger col-lg-12"
												value="Quantité disponible :
											#{wrappedPack.pack.stock-wrappedPack.pack.nbSale}" />
											<h:outputText class="larger col-lg-8"
												value="Quantité souhaitée :" />


											<h:selectOneMenu
												class="col-lg-4 col-xs-12 col-sm-12 col-md-12"
												value="#{wrappedPack.quantity}">
												<f:selectItems
													value="#{mbConsultProject.remplirList(wrappedPack.pack)}" />
											</h:selectOneMenu>

											<h:commandButton type="submit" value="Commander"
												action="#{mbOrder.addToCart(wrappedPack)}"
												class="btn marged lg-btn-default col-lg-12 col-xs-12 col-sm-12 col-md-12" />
										</h:panelGroup>
									</h:column>
								</h:dataTable>
							</h:panelGroup>
						</div>
						
					</div>
				</div>
				
			</h:form>
		</f:view>

	</ui:define>

</ui:composition>
</html>
