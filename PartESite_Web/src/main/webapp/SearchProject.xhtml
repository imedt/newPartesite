<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<ui:composition template="TemplateProjectsList.xhtml">

	<ui:define name="header-title">New Projects</ui:define>

	
	<ui:define name="logo">Recherche de projets</ui:define>

	<ui:define name="content">
	
	<fieldset>
	<legend>Recherche de projets</legend>
			<h:form>		
						<div class="row">
							<div class="col-lg-push-1 col-lg-10">

								<div class="col-lg-12">
										<span class="col-lg-3">Nom</span>
									<h:inputText class="col-lg-3" type="text" value="#{mbSearchProject.name}"></h:inputText>
									
										<h:commandButton class="col-lg-6" 
										type="submit" 
										action="#" value="GO !">
											</h:commandButton>
									
								</div>
								<div class="col-lg-12">
									
										<span>Categorie </span>
									
									<h:selectOneMenu class="col-lg-6" type="text" value="#{mbSearchProject.cat}">
									<f:selectItems value="#{mbSearchProject.categories}" var="cat" itemLabel="#{cat.category}" itemValue="#{cat}"/>
									</h:selectOneMenu>
									<h:commandButton class="col-lg-6" 
										type="submit" 
										action="#" value="GO !">
											</h:commandButton>
									
								</div>

							</div>
						</div>
		</h:form>			
</fieldset>
<br/>
<br/>

					
						<div class="row">
							<div class="col-lg-push-1 col-lg-10">
<center>
								<h1 rendered="#{mbSearchProject.projects==null}">AUCUN RESULTAT</h1>
</center>
<table rendered="#{mbSearchProject.searchByName()!=null}">
<tr>
<th>Date de publication</th>
<th>Auteur</th>
<th>Projet</th>
<th>Categorie</th>
<th>Montant</th>
</tr>

<ui:repeat var="project" value="#{mbSearchProject.projects}">
<tr>
<td>#{project.publishingDate}</td>
<td>#{project.identity.firstName}</td>
<td>#{project.projectName}</td>
<td>#{project.projectCategory}</td>
<td>#{project.aimingAmount}</td>
</tr>
</ui:repeat>
</table>

<table rendered="#{mbSearchProject.searchByCategory()!=null}">
<tr>
<th>Date de publication</th>
<th>Auteur</th>
<th>Projet</th>
<th>Categorie</th>
<th>Montant</th>
</tr>

<ui:repeat var="project" value="#{mbSearchProject.projects}">
<tr>
<td>#{project.publishingDate}</td>
<td>#{project.identity.firstName}</td>
<td>#{project.projectName}</td>
<td>#{project.projectCategory}</td>
<td>#{project.aimingAmount}</td>
</tr>
</ui:repeat>
</table>
							</div>
						</div>

	
	
	</ui:define>

	<ui:define name="text-home"></ui:define>
</ui:composition>
</html>