<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<ui:composition template="TemplateHome.xhtml">

	<ui:define name="style">
		<link rel="stylesheet" href="StylePartESite/css/projectDetails.css" />
	</ui:define>

	<ui:define name="header-title">Consultation Projet</ui:define>
	<ui:define name="sous-logo-1">#{mbConsultProject.p.projectName}
	</ui:define>
	<ui:define name="sous-logo-2">#{mbConsultProject.p.projectName}
	</ui:define>
	<ui:define name="content">
	<f:event listener="#{mbConsultProject.init()}" type="preRenderView"></f:event>
		<div class="bloc">
			<div class="col-lg-9">
				<div class="textBox col-lg-6 col-xs-12 col-sm-12 col-md-12" >
					<center>
						<p class="col-lg-12"> 
							<h1>#{mbConsultProject.p.projectName}</h1>
						</p>
						<p class="col-lg-12">
							<h:outputText value="#{mbConsultProject.contentProjectAuthor.content}" escape="false" />
						</p>
					</center>
				</div>
				<div class="frameBox col-lg-6 col-xs-12 col-sm-12 col-md-12">
					<center style="padding-left: 2em;padding-right:2em">
						<img src="#{mbConsultProject.contentProjectImage.content}" class="col-md-12"/>
					</center>
				</div>

				<div class="frameBox col-lg-6 col-xs-12 col-sm-12 col-md-12" >
					<center>
						<iframe class="col-lg-12" width="auto" height="400px"
							src="#{mbConsultProject.contentProjectVideo.content}"
							frameborder="0" allowfullscreen="false"></iframe>
					</center>
				</div>

				<div class="textBox col-lg-6 col-xs-12 col-sm-12 col-md-12">
					<center>
						<p>
							<h:outputText value="#{mbConsultProject.contentProjectConcept.content}" escape="false" />
						</p> 
					</center>
				</div>
			</div>


				<h:panelGroup class="packBox3 col-lg-3 col-xs-12 col-sm-12 col-md-12" rendered="#{mbConsultProject.wrappedPack.size()!=0}">
				<h:dataTable  class="col-lg-push-1 col-lg-10 col-md-12 col-sm-12 col-xs-12"
						value="#{mbConsultProject.wrappedPack}" var="wrappedPack" styleClass="table"
						headerClass="table-header"
						rowClasses="table-odd-row, table-even-row">
					 
							<h:column class="col-lg-12 col-xs-12 col-sm-12 col-md-12" >
							<h:panelGroup rendered="#{(wrappedPack.pack.stock-wrappedPack.pack.nbSale)!=0}">
    				<h1 style="padding-top:1em;">#{project.projectName}</h1>
    			
							<h1>#{wrappedPack.pack.packName}</h1>
							
							<h3>#{wrappedPack.pack.description}</h3>
							
							<h3>Prix du package : #{mbConversion.getConvertedAmount(wrappedPack.pack.amount)}
								</h3>
						
							<h3>Quantité disponible :
								#{wrappedPack.pack.stock-wrappedPack.pack.nbSale}</h3>
						
							<h3 class="col-lg-12 col-xs-12 col-sm-12 col-md-12">Quantité souhaitée :</h3>
							
							<h:selectOneMenu class="col-lg-offset-2 col-lg-8 col-xs-12 col-sm-12 col-md-12"
								value="#{wrappedPack.quantity}" >
								<f:selectItems
									value="#{mbConsultProject.remplirList(wrappedPack.pack)}"/>
							</h:selectOneMenu>
							
							<h:commandButton type="submit" value="Commander" action="#{mbOrder.addToCart(wrappedPack)}"
								class="button lg-btn-default col-lg-12 col-xs-12 col-sm-12 col-md-12" />
					</h:panelGroup>
						</h:column>
					</h:dataTable>
				</h:panelGroup>

			</div>

	</ui:define>

	<ui:define name="image-centre"></ui:define>
	<ui:define name="text-home"></ui:define>
</ui:composition>
</html>
