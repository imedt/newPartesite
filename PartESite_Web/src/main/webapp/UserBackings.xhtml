<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<ui:composition template="TemplateUserBackings.xhtml">


	<ui:define name="header-title">Participations</ui:define>

	<ui:define name="sous-logo">#{mbConnexion.id.firstName}</ui:define>

	<ui:define name="contentBackings">

		<div class="row">
			<div class="col-lg-12">

				<h:panelGroup
					rendered="#{mbDashboard.listBackingsWithReward.size()!=0}">
					<fieldset class="col-lg-10">

						<legend>Mes Participations</legend>

						<div class="header">
							<span class="col-lg-3">Référence</span> <span class="col-lg-3">Création</span>
							<span class="col-lg-3">Nom Projet(s)</span> <span
								class="col-lg-3">Participation Globale</span>
						</div>

						<ui:repeat var="p" value="#{mbDashboard.listBackingsWithReward}">

							<span class="col-lg-3">#{p.idUserOrder}</span>
							<span class="col-lg-3">#{p.createdDate}</span>

							<ui:repeat var="row" value="#{p.orderRows}">
								<span class="col-lg-3">#{row.item.pack.project.projectName}</span>
							</ui:repeat>

							<span class="col-lg-3">#{p.totalAmount}</span>
						</ui:repeat>
					</fieldset>
				</h:panelGroup>

				<h:panelGroup
					rendered="#{mbDashboard.listBackingsWithReward.size()==0}">
					<span class="col-lg-3">Aucun projet enregistré</span>
				</h:panelGroup>

			</div>
		</div>

		<div class="row">
			<div class="col-lg-12">

				<h:panelGroup rendered="#{mbDashboard.listGivings.size()!=0}">
					<fieldset class="col-lg-10">

						<legend>Mes Dons</legend>

						<div class="header">
							<span class="col-lg-3">Référence</span> <span class="col-lg-3">Création</span>
							<span class="col-lg-3">Nom Projet(s)</span> <span
								class="col-lg-3">Participation Globale</span>
						</div>

						<ui:repeat var="p" value="#{mbDashboard.listGivings}">

							<span class="col-lg-3">#{p.idUserOrder}</span>
							<span class="col-lg-3">#{p.createdDate}</span>

							<ui:repeat var="row" value="#{p.orderRows}">
								<span class="col-lg-3">#{row.item.pack.project.projectName}</span>
							</ui:repeat>

							<span class="col-lg-3">#{p.totalAmount}</span>
						</ui:repeat>
					</fieldset>
				</h:panelGroup>

				<h:panelGroup rendered="#{mbDashboard.listGivings.size()==0}">
					<span class="col-lg-3">Aucun projet enregistré</span>
				</h:panelGroup>

			</div>
		</div>

	</ui:define>

	<ui:define name="totalAmount">#{mbDashboard.backingsAmount}</ui:define>

</ui:composition>
</html>