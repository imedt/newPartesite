<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<ui:composition template="TemplateUserProjects.xhtml">

	<ui:define name="header-title">Nouveau Projet</ui:define>
	<ui:define name="sous-logo">#{mbConnexion.id.firstName}</ui:define>

	<ui:define name="content">

		<div class="row">
			<div class="col-lg-push-1 col-lg-10">

				<fieldset class="col-lg-12">
					<legend>Création du projet</legend>

					<span class="col-lg-3">Nom du projet :</span>
					<h:inputText class="col-lg-9" value="#{mbEditProject.projectName}" />
					<span class="col-lg-3">Capital sollicité :</span>
					<h:inputText class="col-lg-9" value="#{mbEditProject.aimingAmount}" />
					<span class="col-lg-3">Catégorie :</span>
					<h:selectOneMenu value="#{mbEditProject.idProjectCategory}"
						class="col-lg-9" style="height:2em;">
						<f:selectItems value="#{mbEditProject.categories}" var="c"
							itemValue="#{c.idProjectCategory}" itemLabel="#{c.category}" />
					</h:selectOneMenu>

				</fieldset>


				<fieldset>
					<legend>Contenu</legend>
					<span class="col-lg-3">Image :</span>
					<h:inputText class="col-lg-9"
						value="#{mbEditProject.cPContentImage}" />
					<span class="col-lg-3">Vidéo :</span>
					<h:inputText class="col-lg-9"
						value="#{mbEditProject.cPContentVideo}" />
					<span class="col-lg-3">Présentation auteur :</span>
					<h:inputText class="col-lg-9"
						value="#{mbEditProject.cPContentAuthor}" />
					<span class="col-lg-3">Description concept :</span>
					<h:inputText class="col-lg-9"
						value="#{mbEditProject.cPContentConcept}" />
				</fieldset>

				<fieldset>
					<legend>Package (3 maximum)</legend>
					<h:panelGroup id="packageList">
						<ui:repeat var="pack" value="#{mbEditProject.packs}">
							<div class="pack-form">
								<span class="col-lg-3">Nom du Package :</span>
								<h:inputText class="col-lg-9" value="#{pack.packName}" />

								<span class="col-lg-3">Choix du Reward :</span>
								<h:selectOneMenu class="col-lg-9" style="height:2em;"
									value="#{pack.reward}">
									<f:selectItem itemValue="true" itemLabel="Investissement" />
									<f:selectItem itemValue="false" itemLabel="Don" />
								</h:selectOneMenu>
								<span class="col-lg-3">Décrire le reward octroyé :</span>
								<h:inputText class="col-lg-9" value="#{pack.description}" />

								<span class="col-lg-3">Montant à régler par package :</span>
								<h:inputText class="col-lg-9" value="#{pack.amount}" />

								<span class="col-lg-3">Quantité de package :</span>
								<h:inputText class="col-lg-9" value="#{pack.stock}" />
							</div>
							<h:panelGroup rendered="#{mbEditProject.nbTotalPack &gt; 1}">
							<h:commandButton value="delete" action="#{mbEditProject.onButtonRemoveFieldClick(pack)}">  
								<f:ajax execute="@form" render=":j_idt8:packageList" />
							</h:commandButton> 
							
							</h:panelGroup> 
 
						</ui:repeat>
						<h:panelGroup rendered="#{mbEditProject.packs.size() &lt; 3}">
							<h:commandButton value="Add">
								<f:ajax listener="#{mbEditProject.onButtonAddFieldClick}"
									execute="@form" render="packageList" />
							</h:commandButton>

						</h:panelGroup>
					</h:panelGroup>
				</fieldset>

			</div>
			<h:commandButton class="col-lg-push-2  col-lg-8" type="submit"
				action="#{mbEditProject.validateProject}" value="Enregistrer" />

		</div>
	</ui:define>

</ui:composition>
</html>